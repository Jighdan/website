---
import { type CollectionEntry, getCollection } from 'astro:content';
import { AstroSeo } from '@astrolib/seo';
import Layout from '~/layouts/Default.astro';

export async function getStaticPaths() {
	const notes = await getCollection('notes');
	return notes.map((note) => ({
		params: { slug: note.slug },
		props: note,
	}));
}

type Props = CollectionEntry<'notes'>;

const note = Astro.props;
const { Content } = await note.render();

const title = `Notes | ${note.data.title}`;
---

<Layout>
    <AstroSeo
        title={title}
        description={note.data.description}
        slot='seo'
    />

	<article class="flex flex-col gap-6">
	   <h1 class="font-semibold">{note.data.title}</h1>

	   <div class="flex flex-col gap-4">
				<Content />
				</div>
	</article>
</Layout>
